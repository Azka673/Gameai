/* ============================================================
   ECO HAVOC: GREEN REBORN — style.css
   Neo Eco Cyberpunk Theme
   Font: Orbitron (display) + Rajdhani (body)
   ============================================================ */

@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');

/* ────────────────────────────────────────────
   RESET & BASE
──────────────────────────────────────────── */
* { margin:0; padding:0; box-sizing:border-box; }

body {
  background:#000;
  font-family:'Rajdhani',sans-serif;
  overflow:hidden;
  cursor:crosshair;
}

#canvas { display:block; width:100vw; height:100vh; }

/* ────────────────────────────────────────────
   HUD WRAPPER
──────────────────────────────────────────── */
#hud {
  position:fixed; top:0; left:0; width:100%; height:100%;
  pointer-events:none; z-index:10;
  font-family:'Rajdhani',sans-serif;
}

/* ────────────────────────────────────────────
   TOP BAR
──────────────────────────────────────────── */
#topbar {
  position:absolute; top:0; left:0; right:0;
  background:linear-gradient(180deg,rgba(0,0,0,.85) 0%,transparent 100%);
  padding:12px 20px;
  display:flex; align-items:center; justify-content:space-between;
  border-bottom:1px solid rgba(0,255,100,.15);
}

#game-title {
  font-family:'Orbitron',monospace;
  font-size:18px; font-weight:900;
  color:#00ff64;
  text-shadow:0 0 20px #00ff64,0 0 40px #00cc50;
  letter-spacing:3px;
}

.stat-group {
  display:flex; gap:20px; align-items:center;
}

.stat-item {
  display:flex; flex-direction:column; align-items:center;
  background:rgba(0,0,0,.6);
  border:1px solid rgba(0,255,100,.2);
  border-radius:6px; padding:4px 12px;
  min-width:80px;
}

.stat-label {
  font-size:9px; color:#00ff64; letter-spacing:2px;
  text-transform:uppercase; opacity:.7;
}

.stat-value {
  font-size:16px; font-weight:700;
  color:#fff; font-family:'Orbitron',monospace;
}

/* ────────────────────────────────────────────
   POLLUTION BAR
──────────────────────────────────────────── */
#pollution-bar-wrap {
  position:absolute; top:80px; left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.7);
  border:1px solid rgba(255,60,60,.3);
  border-radius:20px; padding:6px 16px;
  display:flex; align-items:center; gap:10px;
  white-space:nowrap;
}

#pollution-label {
  font-size:11px; color:#ff4444; letter-spacing:2px;
  font-family:'Orbitron',monospace; font-weight:700;
}

#pollution-track {
  width:200px; height:10px;
  background:rgba(255,255,255,.1);
  border-radius:10px; overflow:hidden;
  position:relative;
}

#pollution-fill {
  height:100%; border-radius:10px;
  background:linear-gradient(90deg,#00ff64,#ffaa00,#ff4444);
  transition:width .5s ease;
}

#eco-label {
  font-size:11px; color:#00ff64; letter-spacing:2px;
  font-family:'Orbitron',monospace; font-weight:700;
}

/* ────────────────────────────────────────────
   LEFT PANEL BUTTONS
──────────────────────────────────────────── */
#left-panel {
  position:absolute; left:16px; top:50%;
  transform:translateY(-50%);
  display:flex; flex-direction:column; gap:8px;
  pointer-events:all;
}

.panel-btn {
  background:rgba(0,0,0,.8);
  border:1px solid rgba(0,255,100,.3);
  border-radius:8px; padding:10px 14px;
  color:#00ff64; font-family:'Orbitron',monospace;
  font-size:10px; letter-spacing:1px;
  cursor:pointer; text-align:center;
  transition:all .2s;
  text-transform:uppercase;
  min-width:90px;
}

.panel-btn:hover {
  background:rgba(0,255,100,.15);
  border-color:#00ff64;
  box-shadow:0 0 15px rgba(0,255,100,.3);
  transform:translateX(3px);
}

.panel-btn .btn-icon { font-size:18px; display:block; margin-bottom:2px; }

/* ────────────────────────────────────────────
   RIGHT PANEL — District Info
──────────────────────────────────────────── */
#right-panel {
  position:absolute; right:16px; top:50%;
  transform:translateY(-50%);
  background:rgba(0,0,0,.85);
  border:1px solid rgba(0,255,100,.2);
  border-radius:10px; padding:16px;
  width:200px;
  font-size:12px; color:#aaa;
}

#district-name {
  font-family:'Orbitron',monospace;
  font-size:13px; color:#00ff64;
  letter-spacing:2px; margin-bottom:8px;
  text-shadow:0 0 10px #00ff64;
}

.district-stat { margin:4px 0; display:flex; justify-content:space-between; }
.district-stat span:last-child { color:#fff; font-weight:600; }

/* ────────────────────────────────────────────
   BOTTOM BAR
──────────────────────────────────────────── */
#bottombar {
  position:absolute; bottom:0; left:0; right:0;
  background:linear-gradient(0deg,rgba(0,0,0,.9) 0%,transparent 100%);
  padding:12px 20px;
  display:flex; align-items:center; justify-content:space-between;
  border-top:1px solid rgba(0,255,100,.15);
}

#controls-hint {
  font-size:11px; color:rgba(255,255,255,.4);
  letter-spacing:1px;
}

#chapter-info {
  font-family:'Orbitron',monospace;
  font-size:11px; color:#00ff64;
  letter-spacing:2px;
  text-shadow:0 0 8px #00ff64;
}

#xp-bar-wrap { display:flex; align-items:center; gap:8px; }
#xp-bar-wrap span { font-size:11px; color:#aaa; }

#xp-bar {
  width:120px; height:6px;
  background:rgba(255,255,255,.1);
  border-radius:6px; overflow:hidden;
}

#xp-fill {
  height:100%; border-radius:6px;
  background:linear-gradient(90deg,#0088ff,#00ffcc);
  width:0%; transition:width .4s ease;
}

/* ────────────────────────────────────────────
   NOTIFICATION TOAST
──────────────────────────────────────────── */
#notif {
  position:absolute; top:130px; left:50%;
  transform:translateX(-50%) translateY(-20px);
  background:rgba(0,0,0,.9);
  border:1px solid #00ff64;
  border-radius:8px; padding:10px 24px;
  font-family:'Orbitron',monospace;
  font-size:13px; color:#00ff64;
  text-shadow:0 0 10px #00ff64;
  opacity:0; transition:all .4s;
  white-space:nowrap;
  pointer-events:none;
  z-index:50;
  box-shadow:0 0 30px rgba(0,255,100,.2);
}

#notif.show {
  opacity:1; transform:translateX(-50%) translateY(0);
}

/* ────────────────────────────────────────────
   OVERLAY PANELS
──────────────────────────────────────────── */
.overlay {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,.92);
  z-index:100; display:none;
  align-items:center; justify-content:center;
  pointer-events:all;
}

.overlay.active { display:flex; }

.overlay-panel {
  background:linear-gradient(135deg,#0a0a0a 0%,#0d1a10 100%);
  border:1px solid rgba(0,255,100,.3);
  border-radius:16px; padding:32px;
  max-width:700px; width:90%;
  box-shadow:0 0 60px rgba(0,255,100,.1), inset 0 0 60px rgba(0,0,0,.5);
  position:relative;
  max-height:90vh; overflow-y:auto;
}

.overlay-title {
  font-family:'Orbitron',monospace;
  font-size:22px; font-weight:900;
  color:#00ff64; letter-spacing:3px;
  margin-bottom:24px;
  text-shadow:0 0 20px #00ff64;
  text-align:center;
}

.close-btn {
  position:absolute; top:16px; right:20px;
  background:none; border:1px solid rgba(255,255,255,.2);
  color:#fff; font-size:16px; cursor:pointer;
  border-radius:4px; padding:2px 8px;
  transition:all .2s;
}
.close-btn:hover { border-color:#ff4444; color:#ff4444; }

/* ────────────────────────────────────────────
   SORTING MINI-GAME
──────────────────────────────────────────── */
#sorting-game { display:none; flex-direction:column; align-items:center; gap:20px; }
#sorting-game.active { display:flex; }

#trash-bag {
  width:140px; height:140px;
  background:radial-gradient(circle at 40% 35%, rgba(80,80,80,1), rgba(30,30,30,1));
  border-radius:50% 50% 40% 40%;
  display:flex; align-items:center; justify-content:center;
  font-size:60px; cursor:pointer;
  border:2px solid rgba(255,255,255,.2);
  position:relative;
  box-shadow:0 8px 30px rgba(0,0,0,.5);
  transition:transform .2s;
  animation:float 3s ease-in-out infinite;
}

@keyframes float {
  0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)}
}

#trash-bag:hover { transform:scale(1.05); }

#waste-items {
  display:flex; gap:12px; flex-wrap:wrap;
  justify-content:center; max-width:500px;
}

.waste-item {
  width:80px; height:80px; border-radius:10px;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  cursor:pointer; font-size:28px;
  border:2px solid rgba(255,255,255,.1);
  transition:all .2s; position:relative;
  background:rgba(255,255,255,.05);
}

.waste-item:hover {
  transform:scale(1.1);
  box-shadow:0 0 20px rgba(255,255,255,.2);
}

.waste-item .item-label {
  font-size:9px; color:#aaa; margin-top:4px;
  font-family:'Orbitron',monospace; letter-spacing:1px;
}

#bin-area {
  display:flex; gap:16px; justify-content:center;
}

.bin {
  width:90px; height:100px; border-radius:8px;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  cursor:pointer; font-size:26px;
  border:2px solid transparent;
  transition:all .2s; position:relative;
  gap:4px;
}

.bin:hover { transform:scale(1.05); }
.bin .bin-name { font-size:9px; letter-spacing:1px; font-family:'Orbitron',monospace; }

.bin-organic { background:rgba(80,140,0,.2); border-color:rgba(80,200,0,.4); color:#80cc00; }
.bin-plastic  { background:rgba(0,100,200,.2); border-color:rgba(0,150,255,.4); color:#00aaff; }
.bin-metal    { background:rgba(120,120,120,.2); border-color:rgba(180,180,180,.4); color:#bbbbbb; }
.bin-ewaste   { background:rgba(150,0,200,.2); border-color:rgba(200,0,255,.4); color:#cc44ff; }
.bin-b3       { background:rgba(255,60,0,.2); border-color:rgba(255,80,0,.4); color:#ff5500; }

.bin.correct { animation:flash-correct .5s ease; }
.bin.wrong   { animation:flash-wrong .5s ease; }

@keyframes flash-correct { 0%,100%{box-shadow:none} 50%{box-shadow:0 0 30px #00ff64,inset 0 0 20px rgba(0,255,100,.3)} }
@keyframes flash-wrong   { 0%,100%{box-shadow:none} 50%{box-shadow:0 0 30px #ff4444,inset 0 0 20px rgba(255,0,0,.3)} }

#sort-score { font-family:'Orbitron',monospace; font-size:20px; color:#00ff64; }
#sort-feedback {
  font-size:13px; min-height:36px; text-align:center;
  padding:8px 20px; border-radius:6px;
  font-family:'Rajdhani',sans-serif; font-weight:600;
  transition:all .3s;
}

/* ────────────────────────────────────────────
   ECO FACTS CARD
──────────────────────────────────────────── */
.eco-fact {
  background:rgba(0,255,100,.05);
  border-left:3px solid #00ff64;
  border-radius:0 8px 8px 0;
  padding:12px 16px; margin:8px 0;
  font-size:13px; color:#ccc; line-height:1.6;
}

.eco-fact strong { color:#00ff64; }

/* ────────────────────────────────────────────
   SKILL TREE
──────────────────────────────────────────── */
#skill-tree { display:grid; grid-template-columns:1fr 1fr; gap:12px; }

.skill-card {
  background:rgba(0,0,0,.5);
  border:1px solid rgba(0,255,100,.15);
  border-radius:10px; padding:14px;
  cursor:pointer; transition:all .2s;
  pointer-events:all;
}

.skill-card:hover {
  border-color:rgba(0,255,100,.5);
  background:rgba(0,255,100,.05);
  box-shadow:0 0 20px rgba(0,255,100,.1);
}

.skill-card.unlocked {
  border-color:#00ff64;
  background:rgba(0,255,100,.1);
}

.skill-icon { font-size:24px; margin-bottom:6px; }
.skill-name { font-family:'Orbitron',monospace; font-size:11px; color:#00ff64; letter-spacing:1px; margin-bottom:4px; }
.skill-desc { font-size:11px; color:#888; line-height:1.5; }
.skill-cost { font-size:10px; color:#ffaa00; margin-top:6px; font-family:'Orbitron',monospace; }

/* ────────────────────────────────────────────
   CITY / DISTRICT OVERVIEW
──────────────────────────────────────────── */
#district-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }

.district-card {
  background:rgba(0,0,0,.6);
  border-radius:10px; padding:14px;
  border:1px solid rgba(255,255,255,.1);
  text-align:center; cursor:pointer;
  transition:all .2s;
  pointer-events:all;
}

.district-card:hover {
  transform:translateY(-3px);
  box-shadow:0 8px 30px rgba(0,255,100,.1);
}

.district-card.active { border-color:#00ff64; }
.district-card.locked { opacity:.4; cursor:default; }
.district-card .dc-icon { font-size:30px; margin-bottom:6px; }
.district-card .dc-name { font-family:'Orbitron',monospace; font-size:10px; color:#00ff64; letter-spacing:1px; margin-bottom:4px; }
.district-card .dc-status { font-size:10px; color:#888; }
.district-card .dc-bar { height:4px; border-radius:4px; margin-top:8px; overflow:hidden; background:rgba(255,255,255,.1); }
.district-card .dc-bar-fill { height:100%; border-radius:4px; transition:width .5s; }

/* ────────────────────────────────────────────
   SPLASH / INTRO SCREEN
──────────────────────────────────────────── */
#splash {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:radial-gradient(ellipse at center,#0a1f0a 0%,#000 70%);
  z-index:200; display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  gap:0;
}

#splash-bg {
  position:absolute; top:0; left:0; width:100%; height:100%;
  background-image:
    radial-gradient(circle at 20% 30%,rgba(0,255,100,.05) 0%,transparent 50%),
    radial-gradient(circle at 80% 70%,rgba(0,100,255,.05) 0%,transparent 50%);
  pointer-events:none;
}

#splash-title {
  font-family:'Orbitron',monospace;
  font-size:clamp(28px,6vw,72px);
  font-weight:900;
  color:#00ff64;
  text-shadow:0 0 40px #00ff64, 0 0 80px rgba(0,255,100,.5);
  letter-spacing:6px;
  text-align:center;
  animation:pulse-glow 2s ease-in-out infinite;
  line-height:1.1;
}

@keyframes pulse-glow {
  0%,100%{text-shadow:0 0 40px #00ff64,0 0 80px rgba(0,255,100,.5)}
  50%{text-shadow:0 0 60px #00ff64,0 0 120px rgba(0,255,100,.8),0 0 200px rgba(0,255,100,.3)}
}

#splash-sub {
  font-family:'Orbitron',monospace;
  font-size:clamp(10px,2vw,16px);
  color:rgba(0,255,100,.6);
  letter-spacing:8px;
  margin-top:8px;
  text-align:center;
}

#splash-tagline {
  font-size:clamp(12px,2vw,18px);
  color:rgba(255,255,255,.5);
  margin:24px 0 40px;
  text-align:center;
  font-style:italic;
  letter-spacing:2px;
}

#start-btn {
  font-family:'Orbitron',monospace;
  font-size:14px; font-weight:700;
  color:#000; background:#00ff64;
  border:none; padding:14px 40px;
  border-radius:4px; cursor:pointer;
  letter-spacing:3px; text-transform:uppercase;
  transition:all .2s;
  box-shadow:0 0 30px rgba(0,255,100,.4);
  animation:btn-pulse 2s ease-in-out infinite;
}

@keyframes btn-pulse {
  0%,100%{box-shadow:0 0 30px rgba(0,255,100,.4)}
  50%{box-shadow:0 0 50px rgba(0,255,100,.8),0 0 100px rgba(0,255,100,.3)}
}

#start-btn:hover {
  background:#fff;
  transform:scale(1.05);
  box-shadow:0 0 60px rgba(0,255,100,.8);
}

#splash-features {
  display:flex; gap:20px; margin-bottom:40px; flex-wrap:wrap; justify-content:center;
}

.feature-pill {
  background:rgba(0,255,100,.08);
  border:1px solid rgba(0,255,100,.2);
  border-radius:20px; padding:6px 16px;
  font-size:11px; color:rgba(0,255,100,.7);
  letter-spacing:1px; font-family:'Orbitron',monospace;
}

.grid-bg {
  position:absolute; top:0; left:0; width:100%; height:100%;
  background-image:
    linear-gradient(rgba(0,255,100,.03) 1px,transparent 1px),
    linear-gradient(90deg,rgba(0,255,100,.03) 1px,transparent 1px);
  background-size:40px 40px;
  pointer-events:none;
}

/* ────────────────────────────────────────────
   CROSSHAIR
──────────────────────────────────────────── */
#crosshair {
  position:fixed; top:50%; left:50%;
  transform:translate(-50%,-50%);
  width:20px; height:20px;
  pointer-events:none; z-index:5;
}

#crosshair::before, #crosshair::after {
  content:''; position:absolute;
  background:rgba(0,255,100,.6);
}

#crosshair::before { width:2px; height:100%; left:50%; transform:translateX(-50%); }
#crosshair::after  { height:2px; width:100%; top:50%; transform:translateY(-50%); }

/* ────────────────────────────────────────────
   MINIMAP
──────────────────────────────────────────── */
#minimap {
  position:absolute; bottom:60px; right:16px;
  width:150px; height:150px;
  border:1px solid rgba(0,255,100,.3);
  border-radius:8px; overflow:hidden;
  background:rgba(0,0,0,.8);
}

#minimap canvas { width:100%; height:100%; }

/* ────────────────────────────────────────────
   ECONOMY TICKER
──────────────────────────────────────────── */
#economy-ticker {
  position:absolute; bottom:50px; left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.7);
  border:1px solid rgba(255,170,0,.2);
  border-radius:4px; padding:4px 16px;
  font-family:'Orbitron',monospace; font-size:10px;
  color:#ffaa00; letter-spacing:2px;
  white-space:nowrap;
  display:flex; gap:20px;
}

/* ────────────────────────────────────────────
   SCROLLBAR
──────────────────────────────────────────── */
::-webkit-scrollbar { width:4px; }
::-webkit-scrollbar-track { background:transparent; }
::-webkit-scrollbar-thumb { background:#00ff64; border-radius:4px; }

/* ────────────────────────────────────────────
   STORY EVENT BANNER
──────────────────────────────────────────── */
.story-event {
  position:fixed; bottom:120px; left:50%;
  transform:translateX(-50%);
  background:rgba(0,0,0,.95);
  border:1px solid rgba(0,255,100,.4);
  border-radius:10px; padding:16px 24px;
  max-width:500px; text-align:center;
  font-size:14px; color:#ddd;
  line-height:1.6;
  z-index:60;
  box-shadow:0 0 40px rgba(0,255,100,.15);
  animation:slideUp .5s ease;
  pointer-events:none;
}

.story-event .ev-title {
  font-family:'Orbitron',monospace;
  font-size:12px; color:#00ff64;
  letter-spacing:2px; margin-bottom:8px;
}

@keyframes slideUp {
  from{transform:translateX(-50%) translateY(20px); opacity:0}
  to{transform:translateX(-50%) translateY(0); opacity:1}
}

/* ────────────────────────────────────────────
   DAMAGE FLASH OVERLAY
──────────────────────────────────────────── */
#damage-overlay {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(255,0,0,0);
  pointer-events:none; z-index:8;
  transition:background .1s;
}

/* ────────────────────────────────────────────
   COLLECT POPUP FLOAT TEXT
──────────────────────────────────────────── */
.collect-popup {
  position:fixed;
  font-family:'Orbitron',monospace;
  font-size:14px; font-weight:700;
  color:#00ff64;
  pointer-events:none;
  z-index:50;
  animation:collectAnim 1.5s ease forwards;
}

@keyframes collectAnim {
  0%{opacity:1;transform:translateY(0) scale(1)}
  100%{opacity:0;transform:translateY(-60px) scale(.8)}
}

/* ────────────────────────────────────────────
   RESPONSIVE
──────────────────────────────────────────── */
@media(max-width:600px){
  #right-panel{display:none}
  #skill-tree{grid-template-columns:1fr}
  #district-grid{grid-template-columns:1fr 1fr}
}
